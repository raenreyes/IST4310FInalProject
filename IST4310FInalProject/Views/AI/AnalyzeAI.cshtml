@model DreamJobVM // Ensure the correct namespace

<div class="container display-6">
    <div class="row">
        <div class="col-12">
            <p class="fs-1">Enter Your Dream Job</p>
            <p class="fs-3">Enter your dream job to get AI-powered resume insights and tailored recommendations to help you achieve your career goals.</p>
        </div>
        <div class="col-lg-6 col-md-10 col-sm-10">
            <form id="dreamJobForm" method="post" class="row">
                <div class="form-floating mb-3">
                    <input asp-for="Job" class="form-control" value="" aria-required="true" />
                    <label asp-for="Job" style="margin-left: 10px" class="form-label fs-6">Type your Dream Job</label>
                    <span asp-validation-for="Job" class="text-danger mt-0 fs-5"></span>
                </div>

                <div class="col-6 col-md-3">
                    <button type="submit" class="btn bg-blue-to-cyan form-control">Save</button>
                </div>
                <div class="col-6 col-md-3">
                    <a asp-controller="Home" asp-action="Index" class="btn bg-red-to-pink form-control border">Back</a>
                </div>
            </form>
        </div>
        <div class="col-12 mt-5">
            <div id="spinner" class="text-center d-none">
                <div class="spinner-border text-info" role="status" style="width: 3rem; height: 3rem;">
                    <span class="visually-hidden fs-5">Loading...</span>
                </div>
                <p class="mt-2 fs-5">Analyzing Resume...</p>
            </div>

            @if (!string.IsNullOrEmpty(Model.Response))
            {
               
                <div class="fs-5 ">
                    @Html.Raw(Model.Response)
                </div>
            }
        </div>
    </div>
</div>



@section Scripts {
    <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.5.1.min.js"></script>
    <script>
        $(document).ready(function () {
            // Handle form submission
            $("#dreamJobForm").on("submit", function () {
                // Show the spinner
                $("#spinner").removeClass("d-none");

                // Hide the form while loading
                $(this).addClass("d-none");
            });
        });
    </script>
}
